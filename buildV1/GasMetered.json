{"abi":[{"inputs":[{"internalType":"bytes","name":"data","type":"bytes"},{"components":[{"internalType":"address payable","name":"gasPayer","type":"address"},{"internalType":"uint256","name":"gasOverhead","type":"uint256"},{"internalType":"address","name":"token","type":"address"}],"internalType":"struct GasMetered.GasPayerRefund","name":"gasRefund","type":"tuple"},{"components":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"uint256","name":"nonce","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct GasMetered.ReplayProtection","name":"replayProtection","type":"tuple"}],"name":"gasMetered","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"reserveIn","type":"uint256"},{"internalType":"uint256","name":"reserveOut","type":"uint256"}],"name":"getAmountOut","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"getChainID","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"signedHashes","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}],"ast":{"absolutePath":"/Users/sbacha/v2-periphery/contracts/GasMetered.sol","exportedSymbols":{"GasMetered":[219]},"id":220,"license":null,"nodeType":"SourceUnit","nodes":[{"id":1,"literals":["solidity","=","0.6",".12"],"nodeType":"PragmaDirective","src":"0:24:0"},{"id":2,"literals":["experimental","ABIEncoderV2"],"nodeType":"PragmaDirective","src":"25:33:0"},{"absolutePath":"/Users/sbacha/v2-periphery/node_modules/@uniswap/lib/contracts/libraries/TransferHelper.sol","file":"@uniswap/lib/contracts/libraries/TransferHelper.sol","id":3,"nodeType":"ImportDirective","scope":220,"sourceUnit":12204,"src":"60:61:0","symbolAliases":[],"unitAlias":""},{"absolutePath":"/Users/sbacha/v2-periphery/node_modules/@openzeppelin/contracts/cryptography/ECDSA.sol","file":"@openzeppelin/contracts/cryptography/ECDSA.sol","id":4,"nodeType":"ImportDirective","scope":220,"sourceUnit":10713,"src":"122:56:0","symbolAliases":[],"unitAlias":""},{"absolutePath":"/Users/sbacha/v2-periphery/contracts/libraries/SafeMath.sol","file":"./libraries/SafeMath.sol","id":5,"nodeType":"ImportDirective","scope":220,"sourceUnit":7953,"src":"179:34:0","symbolAliases":[],"unitAlias":""},{"abstract":true,"baseContracts":[],"contractDependencies":[],"contractKind":"contract","documentation":null,"fullyImplemented":false,"id":219,"linearizedBaseContracts":[219],"name":"GasMetered","nodeType":"ContractDefinition","nodes":[{"id":8,"libraryName":{"contractScope":null,"id":6,"name":"SafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":7952,"src":"256:8:0","typeDescriptions":{"typeIdentifier":"t_contract$_SafeMath_$7952","typeString":"library SafeMath"}},"nodeType":"UsingForDirective","src":"250:27:0","typeName":{"id":7,"name":"uint256","nodeType":"ElementaryTypeName","src":"269:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"constant":false,"functionSelector":"b7172355","id":12,"mutability":"mutable","name":"signedHashes","nodeType":"VariableDeclaration","overrides":null,"scope":219,"src":"282:44:0","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"},"typeName":{"id":11,"keyType":{"id":9,"name":"bytes32","nodeType":"ElementaryTypeName","src":"290:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"282:24:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"},"valueType":{"id":10,"name":"bool","nodeType":"ElementaryTypeName","src":"301:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"value":null,"visibility":"public"},{"canonicalName":"GasMetered.GasPayerRefund","id":19,"members":[{"constant":false,"id":14,"mutability":"mutable","name":"gasPayer","nodeType":"VariableDeclaration","overrides":null,"scope":19,"src":"365:24:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"},"typeName":{"id":13,"name":"address","nodeType":"ElementaryTypeName","src":"365:15:0","stateMutability":"payable","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"value":null,"visibility":"internal"},{"constant":false,"id":16,"mutability":"mutable","name":"gasOverhead","nodeType":"VariableDeclaration","overrides":null,"scope":19,"src":"399:19:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15,"name":"uint256","nodeType":"ElementaryTypeName","src":"399:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":18,"mutability":"mutable","name":"token","nodeType":"VariableDeclaration","overrides":null,"scope":19,"src":"428:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":17,"name":"address","nodeType":"ElementaryTypeName","src":"428:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"name":"GasPayerRefund","nodeType":"StructDefinition","scope":219,"src":"333:115:0","visibility":"public"},{"canonicalName":"GasMetered.ReplayProtection","id":26,"members":[{"constant":false,"id":21,"mutability":"mutable","name":"signer","nodeType":"VariableDeclaration","overrides":null,"scope":26,"src":"487:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":20,"name":"address","nodeType":"ElementaryTypeName","src":"487:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":23,"mutability":"mutable","name":"nonce","nodeType":"VariableDeclaration","overrides":null,"scope":26,"src":"511:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":22,"name":"uint256","nodeType":"ElementaryTypeName","src":"511:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":25,"mutability":"mutable","name":"signature","nodeType":"VariableDeclaration","overrides":null,"scope":26,"src":"534:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"},"typeName":{"id":24,"name":"bytes","nodeType":"ElementaryTypeName","src":"534:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"name":"ReplayProtection","nodeType":"StructDefinition","scope":219,"src":"453:103:0","visibility":"public"},{"body":null,"documentation":null,"id":35,"implemented":false,"kind":"function","modifiers":[],"name":"getEthExchangeRate","nodeType":"FunctionDefinition","overrides":null,"parameters":{"id":29,"nodeType":"ParameterList","parameters":[{"constant":false,"id":28,"mutability":"mutable","name":"token","nodeType":"VariableDeclaration","overrides":null,"scope":35,"src":"590:13:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":27,"name":"address","nodeType":"ElementaryTypeName","src":"590:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"589:15:0"},"returnParameters":{"id":34,"nodeType":"ParameterList","parameters":[{"constant":false,"id":31,"mutability":"mutable","name":"reserveInput","nodeType":"VariableDeclaration","overrides":null,"scope":35,"src":"631:20:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30,"name":"uint256","nodeType":"ElementaryTypeName","src":"631:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":33,"mutability":"mutable","name":"reserveOutput","nodeType":"VariableDeclaration","overrides":null,"scope":35,"src":"653:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":32,"name":"uint256","nodeType":"ElementaryTypeName","src":"653:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"630:45:0"},"scope":219,"src":"562:114:0","stateMutability":"nonpayable","virtual":true,"visibility":"internal"},{"body":null,"documentation":null,"functionSelector":"054d50d4","id":46,"implemented":false,"kind":"function","modifiers":[],"name":"getAmountOut","nodeType":"FunctionDefinition","overrides":null,"parameters":{"id":42,"nodeType":"ParameterList","parameters":[{"constant":false,"id":37,"mutability":"mutable","name":"amountIn","nodeType":"VariableDeclaration","overrides":null,"scope":46,"src":"713:16:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":36,"name":"uint256","nodeType":"ElementaryTypeName","src":"713:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":39,"mutability":"mutable","name":"reserveIn","nodeType":"VariableDeclaration","overrides":null,"scope":46,"src":"739:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":38,"name":"uint256","nodeType":"ElementaryTypeName","src":"739:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":41,"mutability":"mutable","name":"reserveOut","nodeType":"VariableDeclaration","overrides":null,"scope":46,"src":"766:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":40,"name":"uint256","nodeType":"ElementaryTypeName","src":"766:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"703:87:0"},"returnParameters":{"id":45,"nodeType":"ParameterList","parameters":[{"constant":false,"id":44,"mutability":"mutable","name":"amountOut","nodeType":"VariableDeclaration","overrides":null,"scope":46,"src":"820:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":43,"name":"uint256","nodeType":"ElementaryTypeName","src":"820:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"819:19:0"},"scope":219,"src":"682:157:0","stateMutability":"pure","virtual":true,"visibility":"public"},{"body":{"id":115,"nodeType":"Block","src":"1018:939:0","statements":[{"assignments":[56],"declarations":[{"constant":false,"id":56,"mutability":"mutable","name":"h","nodeType":"VariableDeclaration","overrides":null,"scope":115,"src":"1305:9:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":55,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1305:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"id":79,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":60,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":48,"src":"1374:4:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":61,"name":"gasRefund","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50,"src":"1396:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_GasPayerRefund_$19_memory_ptr","typeString":"struct GasMetered.GasPayerRefund memory"}},"id":62,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"gasPayer","nodeType":"MemberAccess","referencedDeclaration":14,"src":"1396:18:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":63,"name":"gasRefund","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50,"src":"1432:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_GasPayerRefund_$19_memory_ptr","typeString":"struct GasMetered.GasPayerRefund memory"}},"id":64,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"gasOverhead","nodeType":"MemberAccess","referencedDeclaration":16,"src":"1432:21:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":65,"name":"gasRefund","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":50,"src":"1471:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_GasPayerRefund_$19_memory_ptr","typeString":"struct GasMetered.GasPayerRefund memory"}},"id":66,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"token","nodeType":"MemberAccess","referencedDeclaration":18,"src":"1471:15:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":67,"name":"replayProtection","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52,"src":"1504:16:0","typeDescriptions":{"typeIdentifier":"t_struct$_ReplayProtection_$26_memory_ptr","typeString":"struct GasMetered.ReplayProtection memory"}},"id":68,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"signer","nodeType":"MemberAccess","referencedDeclaration":21,"src":"1504:23:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":69,"name":"replayProtection","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52,"src":"1545:16:0","typeDescriptions":{"typeIdentifier":"t_struct$_ReplayProtection_$26_memory_ptr","typeString":"struct GasMetered.ReplayProtection memory"}},"id":70,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"nonce","nodeType":"MemberAccess","referencedDeclaration":23,"src":"1545:22:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":71,"name":"getChainID","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":128,"src":"1585:10:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_uint256_$","typeString":"function () pure returns (uint256)"}},"id":72,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1585:12:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":75,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"1623:4:0","typeDescriptions":{"typeIdentifier":"t_contract$_GasMetered_$219","typeString":"contract GasMetered"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_GasMetered_$219","typeString":"contract GasMetered"}],"id":74,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1615:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":73,"name":"address","nodeType":"ElementaryTypeName","src":"1615:7:0","typeDescriptions":{"typeIdentifier":null,"typeString":null}}},"id":76,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1615:13:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":58,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1340:3:0","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":59,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1340:16:0","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":77,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1340:302:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":57,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"1317:9:0","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":78,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1317:335:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"1305:347:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":85,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":81,"name":"signedHashes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12,"src":"1670:12:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"}},"id":83,"indexExpression":{"argumentTypes":null,"id":82,"name":"h","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56,"src":"1683:1:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1670:15:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"hexValue":"66616c7365","id":84,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"1689:5:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"src":"1670:24:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"4761734d6574657265643a205245504c41595f55534544","id":86,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1696:25:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_767bcf2ed33ac4100a97d24fcfaa91effa592a9be23e2abb0f7092bcc2f9d678","typeString":"literal_string \"GasMetered: REPLAY_USED\""},"value":"GasMetered: REPLAY_USED"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_767bcf2ed33ac4100a97d24fcfaa91effa592a9be23e2abb0f7092bcc2f9d678","typeString":"literal_string \"GasMetered: REPLAY_USED\""}],"id":80,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"1662:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":87,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1662:60:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":88,"nodeType":"ExpressionStatement","src":"1662:60:0"},{"assignments":[90],"declarations":[{"constant":false,"id":90,"mutability":"mutable","name":"signer","nodeType":"VariableDeclaration","overrides":null,"scope":115,"src":"1732:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":89,"name":"address","nodeType":"ElementaryTypeName","src":"1732:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"id":100,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":95,"name":"h","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56,"src":"1792:1:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"argumentTypes":null,"id":93,"name":"ECDSA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10712,"src":"1763:5:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ECDSA_$10712_$","typeString":"type(library ECDSA)"}},"id":94,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"toEthSignedMessageHash","nodeType":"MemberAccess","referencedDeclaration":10711,"src":"1763:28:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_bytes32_$","typeString":"function (bytes32) pure returns (bytes32)"}},"id":96,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1763:31:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":97,"name":"replayProtection","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52,"src":"1796:16:0","typeDescriptions":{"typeIdentifier":"t_struct$_ReplayProtection_$26_memory_ptr","typeString":"struct GasMetered.ReplayProtection memory"}},"id":98,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"signature","nodeType":"MemberAccess","referencedDeclaration":25,"src":"1796:26:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"argumentTypes":null,"id":91,"name":"ECDSA","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10712,"src":"1749:5:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ECDSA_$10712_$","typeString":"type(library ECDSA)"}},"id":92,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"recover","nodeType":"MemberAccess","referencedDeclaration":10637,"src":"1749:13:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_bytes_memory_ptr_$returns$_t_address_$","typeString":"function (bytes32,bytes memory) pure returns (address)"}},"id":99,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1749:74:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"1732:91:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":105,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":102,"name":"signer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":90,"src":"1854:6:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":103,"name":"replayProtection","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52,"src":"1864:16:0","typeDescriptions":{"typeIdentifier":"t_struct$_ReplayProtection_$26_memory_ptr","typeString":"struct GasMetered.ReplayProtection memory"}},"id":104,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"signer","nodeType":"MemberAccess","referencedDeclaration":21,"src":"1864:23:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1854:33:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"hexValue":"4761734d6574657265643a20494e56414c49445f5349474e4552","id":106,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1889:28:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_stringliteral_6b2eafcd5d86a425ba371f8283ce9f14d8c76c09d32fbd14927ecfae54f7151c","typeString":"literal_string \"GasMetered: INVALID_SIGNER\""},"value":"GasMetered: INVALID_SIGNER"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_6b2eafcd5d86a425ba371f8283ce9f14d8c76c09d32fbd14927ecfae54f7151c","typeString":"literal_string \"GasMetered: INVALID_SIGNER\""}],"id":101,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"1846:7:0","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":107,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1846:72:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":108,"nodeType":"ExpressionStatement","src":"1846:72:0"},{"expression":{"argumentTypes":null,"id":113,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":109,"name":"signedHashes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12,"src":"1928:12:0","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_bool_$","typeString":"mapping(bytes32 => bool)"}},"id":111,"indexExpression":{"argumentTypes":null,"id":110,"name":"h","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":56,"src":"1941:1:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1928:15:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"hexValue":"74727565","id":112,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"1946:4:0","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"1928:22:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":114,"nodeType":"ExpressionStatement","src":"1928:22:0"}]},"documentation":null,"id":116,"implemented":true,"kind":"function","modifiers":[],"name":"_checkSignatureAndUpdateReplay","nodeType":"FunctionDefinition","overrides":null,"parameters":{"id":53,"nodeType":"ParameterList","parameters":[{"constant":false,"id":48,"mutability":"mutable","name":"data","nodeType":"VariableDeclaration","overrides":null,"scope":116,"src":"894:17:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":47,"name":"bytes","nodeType":"ElementaryTypeName","src":"894:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":50,"mutability":"mutable","name":"gasRefund","nodeType":"VariableDeclaration","overrides":null,"scope":116,"src":"921:31:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_GasPayerRefund_$19_memory_ptr","typeString":"struct GasMetered.GasPayerRefund"},"typeName":{"contractScope":null,"id":49,"name":"GasPayerRefund","nodeType":"UserDefinedTypeName","referencedDeclaration":19,"src":"921:14:0","typeDescriptions":{"typeIdentifier":"t_struct$_GasPayerRefund_$19_storage_ptr","typeString":"struct GasMetered.GasPayerRefund"}},"value":null,"visibility":"internal"},{"constant":false,"id":52,"mutability":"mutable","name":"replayProtection","nodeType":"VariableDeclaration","overrides":null,"scope":116,"src":"962:40:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ReplayProtection_$26_memory_ptr","typeString":"struct GasMetered.ReplayProtection"},"typeName":{"contractScope":null,"id":51,"name":"ReplayProtection","nodeType":"UserDefinedTypeName","referencedDeclaration":26,"src":"962:16:0","typeDescriptions":{"typeIdentifier":"t_struct$_ReplayProtection_$26_storage_ptr","typeString":"struct GasMetered.ReplayProtection"}},"value":null,"visibility":"internal"}],"src":"884:124:0"},"returnParameters":{"id":54,"nodeType":"ParameterList","parameters":[],"src":"1018:0:0"},"scope":219,"src":"845:1112:0","stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"body":{"id":127,"nodeType":"Block","src":"2015:118:0","statements":[{"assignments":[122],"declarations":[{"constant":false,"id":122,"mutability":"mutable","name":"chainId","nodeType":"VariableDeclaration","overrides":null,"scope":127,"src":"2025:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":121,"name":"uint256","nodeType":"ElementaryTypeName","src":"2025:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":123,"initialValue":null,"nodeType":"VariableDeclarationStatement","src":"2025:15:0"},{"AST":{"nodeType":"YulBlock","src":"2059:44:0","statements":[{"nodeType":"YulAssignment","src":"2073:20:0","value":{"arguments":[],"functionName":{"name":"chainid","nodeType":"YulIdentifier","src":"2084:7:0"},"nodeType":"YulFunctionCall","src":"2084:9:0"},"variableNames":[{"name":"chainId","nodeType":"YulIdentifier","src":"2073:7:0"}]}]},"evmVersion":"istanbul","externalReferences":[{"declaration":122,"isOffset":false,"isSlot":false,"src":"2073:7:0","valueSize":1}],"id":124,"nodeType":"InlineAssembly","src":"2050:53:0"},{"expression":{"argumentTypes":null,"id":125,"name":"chainId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":122,"src":"2119:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":120,"id":126,"nodeType":"Return","src":"2112:14:0"}]},"documentation":null,"functionSelector":"564b81ef","id":128,"implemented":true,"kind":"function","modifiers":[],"name":"getChainID","nodeType":"FunctionDefinition","overrides":null,"parameters":{"id":117,"nodeType":"ParameterList","parameters":[],"src":"1982:2:0"},"returnParameters":{"id":120,"nodeType":"ParameterList","parameters":[{"constant":false,"id":119,"mutability":"mutable","name":"","nodeType":"VariableDeclaration","overrides":null,"scope":128,"src":"2006:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":118,"name":"uint256","nodeType":"ElementaryTypeName","src":"2006:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2005:9:0"},"scope":219,"src":"1963:170:0","stateMutability":"pure","virtual":false,"visibility":"public"},{"body":{"id":217,"nodeType":"Block","src":"2425:767:0","statements":[{"assignments":[142],"declarations":[{"constant":false,"id":142,"mutability":"mutable","name":"gasUsedTracker","nodeType":"VariableDeclaration","overrides":null,"scope":217,"src":"2435:22:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":141,"name":"uint256","nodeType":"ElementaryTypeName","src":"2435:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":148,"initialValue":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":147,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":143,"name":"gasleft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-7,"src":"2460:7:0","typeDescriptions":{"typeIdentifier":"t_function_gasleft_view$__$returns$_t_uint256_$","typeString":"function () view returns (uint256)"}},"id":144,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2460:9:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":145,"name":"gasRefund","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132,"src":"2472:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_GasPayerRefund_$19_memory_ptr","typeString":"struct GasMetered.GasPayerRefund memory"}},"id":146,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"gasOverhead","nodeType":"MemberAccess","referencedDeclaration":16,"src":"2472:21:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2460:33:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2435:58:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":150,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":130,"src":"2534:4:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"id":151,"name":"gasRefund","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132,"src":"2540:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_GasPayerRefund_$19_memory_ptr","typeString":"struct GasMetered.GasPayerRefund memory"}},{"argumentTypes":null,"id":152,"name":"replayProtection","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134,"src":"2551:16:0","typeDescriptions":{"typeIdentifier":"t_struct$_ReplayProtection_$26_memory_ptr","typeString":"struct GasMetered.ReplayProtection memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_struct$_GasPayerRefund_$19_memory_ptr","typeString":"struct GasMetered.GasPayerRefund memory"},{"typeIdentifier":"t_struct$_ReplayProtection_$26_memory_ptr","typeString":"struct GasMetered.ReplayProtection memory"}],"id":149,"name":"_checkSignatureAndUpdateReplay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":116,"src":"2503:30:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes_memory_ptr_$_t_struct$_GasPayerRefund_$19_memory_ptr_$_t_struct$_ReplayProtection_$26_memory_ptr_$returns$__$","typeString":"function (bytes memory,struct GasMetered.GasPayerRefund memory,struct GasMetered.ReplayProtection memory)"}},"id":153,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2503:65:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":154,"nodeType":"ExpressionStatement","src":"2503:65:0"},{"expression":{"argumentTypes":null,"id":170,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"components":[{"argumentTypes":null,"id":155,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"2685:7:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"argumentTypes":null,"id":156,"name":"returnData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":139,"src":"2694:10:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"id":157,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"2684:21:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":165,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":130,"src":"2744:4:0","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":166,"name":"replayProtection","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134,"src":"2750:16:0","typeDescriptions":{"typeIdentifier":"t_struct$_ReplayProtection_$26_memory_ptr","typeString":"struct GasMetered.ReplayProtection memory"}},"id":167,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"signer","nodeType":"MemberAccess","referencedDeclaration":21,"src":"2750:23:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":163,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"2727:3:0","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":164,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"encodePacked","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2727:16:0","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":168,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2727:47:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":160,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"2716:4:0","typeDescriptions":{"typeIdentifier":"t_contract$_GasMetered_$219","typeString":"contract GasMetered"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_GasMetered_$219","typeString":"contract GasMetered"}],"id":159,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2708:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":158,"name":"address","nodeType":"ElementaryTypeName","src":"2708:7:0","typeDescriptions":{"typeIdentifier":null,"typeString":null}}},"id":161,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2708:13:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":162,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"call","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2708:18:0","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":169,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2708:67:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"src":"2684:91:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":171,"nodeType":"ExpressionStatement","src":"2684:91:0"},{"assignments":[173,175],"declarations":[{"constant":false,"id":173,"mutability":"mutable","name":"reserveInput","nodeType":"VariableDeclaration","overrides":null,"scope":217,"src":"2787:20:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":172,"name":"uint256","nodeType":"ElementaryTypeName","src":"2787:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":175,"mutability":"mutable","name":"reserveOutput","nodeType":"VariableDeclaration","overrides":null,"scope":217,"src":"2809:21:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":174,"name":"uint256","nodeType":"ElementaryTypeName","src":"2809:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":180,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":177,"name":"gasRefund","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132,"src":"2853:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_GasPayerRefund_$19_memory_ptr","typeString":"struct GasMetered.GasPayerRefund memory"}},"id":178,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"token","nodeType":"MemberAccess","referencedDeclaration":18,"src":"2853:15:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":176,"name":"getEthExchangeRate","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":35,"src":"2834:18:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$returns$_t_uint256_$_t_uint256_$","typeString":"function (address) returns (uint256,uint256)"}},"id":179,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2834:35:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"2786:83:0"},{"expression":{"argumentTypes":null,"id":187,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":181,"name":"gasUsedTracker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":142,"src":"2879:14:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":184,"name":"gasleft","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-7,"src":"2915:7:0","typeDescriptions":{"typeIdentifier":"t_function_gasleft_view$__$returns$_t_uint256_$","typeString":"function () view returns (uint256)"}},"id":185,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2915:9:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":182,"name":"gasUsedTracker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":142,"src":"2896:14:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":183,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":7923,"src":"2896:18:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":186,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2896:29:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2879:46:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":188,"nodeType":"ExpressionStatement","src":"2879:46:0"},{"assignments":[190],"declarations":[{"constant":false,"id":190,"mutability":"mutable","name":"ethUsed","nodeType":"VariableDeclaration","overrides":null,"scope":217,"src":"2935:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":189,"name":"uint256","nodeType":"ElementaryTypeName","src":"2935:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":196,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":194,"name":"gasUsedTracker","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":142,"src":"2969:14:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":191,"name":"tx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-26,"src":"2953:2:0","typeDescriptions":{"typeIdentifier":"t_magic_transaction","typeString":"tx"}},"id":192,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"gasprice","nodeType":"MemberAccess","referencedDeclaration":null,"src":"2953:11:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":193,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"mul","nodeType":"MemberAccess","referencedDeclaration":7951,"src":"2953:15:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":195,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2953:31:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2935:49:0"},{"assignments":[198],"declarations":[{"constant":false,"id":198,"mutability":"mutable","name":"amountOutput","nodeType":"VariableDeclaration","overrides":null,"scope":217,"src":"2995:20:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":197,"name":"uint256","nodeType":"ElementaryTypeName","src":"2995:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":204,"initialValue":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":200,"name":"ethUsed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":190,"src":"3031:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":201,"name":"reserveInput","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":173,"src":"3040:12:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":202,"name":"reserveOutput","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":175,"src":"3054:13:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":199,"name":"getAmountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46,"src":"3018:12:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":203,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3018:50:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2995:73:0"},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":208,"name":"gasRefund","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132,"src":"3110:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_GasPayerRefund_$19_memory_ptr","typeString":"struct GasMetered.GasPayerRefund memory"}},"id":209,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"token","nodeType":"MemberAccess","referencedDeclaration":18,"src":"3110:15:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":210,"name":"replayProtection","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134,"src":"3127:16:0","typeDescriptions":{"typeIdentifier":"t_struct$_ReplayProtection_$26_memory_ptr","typeString":"struct GasMetered.ReplayProtection memory"}},"id":211,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"signer","nodeType":"MemberAccess","referencedDeclaration":21,"src":"3127:23:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"expression":{"argumentTypes":null,"id":212,"name":"gasRefund","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":132,"src":"3152:9:0","typeDescriptions":{"typeIdentifier":"t_struct$_GasPayerRefund_$19_memory_ptr","typeString":"struct GasMetered.GasPayerRefund memory"}},"id":213,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"gasPayer","nodeType":"MemberAccess","referencedDeclaration":14,"src":"3152:18:0","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":214,"name":"amountOutput","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":198,"src":"3172:12:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":205,"name":"TransferHelper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":12203,"src":"3078:14:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_TransferHelper_$12203_$","typeString":"type(library TransferHelper)"}},"id":207,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":12177,"src":"3078:31:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,address,uint256)"}},"id":215,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3078:107:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":216,"nodeType":"ExpressionStatement","src":"3078:107:0"}]},"documentation":null,"functionSelector":"0996b104","id":218,"implemented":true,"kind":"function","modifiers":[],"name":"gasMetered","nodeType":"FunctionDefinition","overrides":null,"parameters":{"id":135,"nodeType":"ParameterList","parameters":[{"constant":false,"id":130,"mutability":"mutable","name":"data","nodeType":"VariableDeclaration","overrides":null,"scope":218,"src":"2255:17:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":129,"name":"bytes","nodeType":"ElementaryTypeName","src":"2255:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"},{"constant":false,"id":132,"mutability":"mutable","name":"gasRefund","nodeType":"VariableDeclaration","overrides":null,"scope":218,"src":"2282:31:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_GasPayerRefund_$19_memory_ptr","typeString":"struct GasMetered.GasPayerRefund"},"typeName":{"contractScope":null,"id":131,"name":"GasPayerRefund","nodeType":"UserDefinedTypeName","referencedDeclaration":19,"src":"2282:14:0","typeDescriptions":{"typeIdentifier":"t_struct$_GasPayerRefund_$19_storage_ptr","typeString":"struct GasMetered.GasPayerRefund"}},"value":null,"visibility":"internal"},{"constant":false,"id":134,"mutability":"mutable","name":"replayProtection","nodeType":"VariableDeclaration","overrides":null,"scope":218,"src":"2323:40:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ReplayProtection_$26_memory_ptr","typeString":"struct GasMetered.ReplayProtection"},"typeName":{"contractScope":null,"id":133,"name":"ReplayProtection","nodeType":"UserDefinedTypeName","referencedDeclaration":26,"src":"2323:16:0","typeDescriptions":{"typeIdentifier":"t_struct$_ReplayProtection_$26_storage_ptr","typeString":"struct GasMetered.ReplayProtection"}},"value":null,"visibility":"internal"}],"src":"2245:124:0"},"returnParameters":{"id":140,"nodeType":"ParameterList","parameters":[{"constant":false,"id":137,"mutability":"mutable","name":"success","nodeType":"VariableDeclaration","overrides":null,"scope":218,"src":"2386:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":136,"name":"bool","nodeType":"ElementaryTypeName","src":"2386:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":139,"mutability":"mutable","name":"returnData","nodeType":"VariableDeclaration","overrides":null,"scope":218,"src":"2400:23:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":138,"name":"bytes","nodeType":"ElementaryTypeName","src":"2400:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"2385:39:0"},"scope":219,"src":"2226:966:0","stateMutability":"nonpayable","virtual":false,"visibility":"public"}],"scope":220,"src":"215:2979:0"}],"src":"0:3195:0"},"bytecode":{"linkReferences":{},"object":"0x","sourceMap":""},"deployedBytecode":{"linkReferences":{},"object":"0x","sourceMap":""}}